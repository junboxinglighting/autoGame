# 针对 www.ymzxjb.top 的环境变量配置模板

# ===========================================
# 基础应用配置
# ===========================================

# 应用运行端口
PORT=3000

# 应用运行环境
NODE_ENV=production

# 域名配置
DOMAIN=www.ymzxjb.top
ROOT_DOMAIN=ymzxjb.top

# 应用URL配置
BASE_URL=https://www.ymzxjb.top
API_BASE_URL=https://www.ymzxjb.top/api

# ===========================================
# 数据库配置
# ===========================================

# PostgreSQL数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_NAME=activation_codes
DB_USER=activation_user
DB_PASSWORD=your_secure_password_here

# 数据库连接池配置
DB_POOL_MIN=2
DB_POOL_MAX=10

# ===========================================
# JWT安全配置
# ===========================================

# JWT密钥（请生成复杂的随机字符串）
JWT_SECRET=your_jwt_secret_key_here_change_this_in_production

# JWT过期时间
JWT_EXPIRES_IN=24h

# 管理员Token过期时间
ADMIN_TOKEN_EXPIRES_IN=7d

# ===========================================
# 激活码配置
# ===========================================

# 默认激活码长度
CODE_LENGTH=16

# 激活码有效期（小时）
CODE_EXPIRY_HOURS=168

# 单次生成激活码最大数量
MAX_CODES_PER_BATCH=1000

# ===========================================
# 安全配置
# ===========================================

# 管理员密码（首次运行时设置）
ADMIN_PASSWORD=your_admin_password_here

# 密码盐值轮数
BCRYPT_ROUNDS=12

# 最大登录尝试次数
MAX_LOGIN_ATTEMPTS=5

# 账户锁定时间（分钟）
LOCKOUT_TIME=15

# ===========================================
# 会话配置
# ===========================================

# 会话密钥
SESSION_SECRET=your_session_secret_here

# 会话过期时间（毫秒）
SESSION_MAX_AGE=86400000

# Cookie安全设置
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# ===========================================
# CORS配置
# ===========================================

# 允许的源域名
CORS_ORIGINS=https://www.ymzxjb.top,https://ymzxjb.top

# 是否允许凭据
CORS_CREDENTIALS=true

# ===========================================
# 限流配置
# ===========================================

# API请求限制（每15分钟）
RATE_LIMIT_REQUESTS=100

# 登录限制（每15分钟）
LOGIN_RATE_LIMIT=10

# 激活码验证限制（每分钟）
CODE_VALIDATION_LIMIT=60

# ===========================================
# 日志配置
# ===========================================

# 日志级别 (error, warn, info, debug)
LOG_LEVEL=info

# 日志文件路径
LOG_FILE=/var/log/activation-code-system/app.log

# 是否启用控制台日志
CONSOLE_LOG=true

# ===========================================
# 监控配置
# ===========================================

# 健康检查端点
HEALTH_CHECK_ENDPOINT=/health

# 统计信息缓存时间（秒）
STATS_CACHE_TTL=300

# 是否启用性能监控
ENABLE_METRICS=true

# ===========================================
# 文件上传配置
# ===========================================

# 最大文件上传大小（MB）
MAX_FILE_SIZE=10

# 允许的文件类型
ALLOWED_FILE_TYPES=json,csv,txt

# 上传目录
UPLOAD_DIR=/opt/activation-code-system/uploads

# ===========================================
# 通知配置
# ===========================================

# 邮件配置（可选）
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@ymzxjb.top
SMTP_PASS=your_email_password
SMTP_FROM=激活码系统 <noreply@ymzxjb.top>

# 是否启用邮件通知
ENABLE_EMAIL_NOTIFICATIONS=false

# ===========================================
# 备份配置
# ===========================================

# 自动备份间隔（小时）
BACKUP_INTERVAL=24

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 备份存储路径
BACKUP_PATH=/opt/activation-code-system/backups

# ===========================================
# SSL/TLS配置
# ===========================================

# 是否强制HTTPS
FORCE_HTTPS=true

# SSL证书路径（由Let's Encrypt自动管理）
SSL_CERT_PATH=/etc/letsencrypt/live/www.ymzxjb.top/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/www.ymzxjb.top/privkey.pem

# ===========================================
# 缓存配置
# ===========================================

# 是否启用Redis缓存
ENABLE_REDIS=false

# Redis连接配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# 缓存TTL（秒）
CACHE_TTL=3600

# ===========================================
# 开发/调试配置
# ===========================================

# 是否启用调试模式
DEBUG=false

# 是否显示详细错误
SHOW_DETAILED_ERRORS=false

# API文档是否可访问
ENABLE_API_DOCS=false

# ===========================================
# 特定于ymzxjb.top的配置
# ===========================================

# 网站标题
SITE_TITLE=激活码管理系统 - www.ymzxjb.top

# 网站描述
SITE_DESCRIPTION=专业的激活码生成与管理系统

# 联系邮箱
CONTACT_EMAIL=admin@ymzxjb.top

# 版权信息
COPYRIGHT=© 2024 ymzxjb.top. All rights reserved.

# 时区设置
TIMEZONE=Asia/Shanghai

# 语言设置
LOCALE=zh-CN

# ===========================================
# 集成配置
# ===========================================

# 支付接口配置（如果需要）
PAYMENT_PROVIDER=none
PAYMENT_API_KEY=

# 短信接口配置（如果需要）
SMS_PROVIDER=none
SMS_API_KEY=

# ===========================================
# 高级配置
# ===========================================

# 集群模式配置
CLUSTER_MODE=false
CLUSTER_INSTANCES=auto

# 内存限制（MB）
MEMORY_LIMIT=1024

# 最大并发连接数
MAX_CONNECTIONS=1000

# 请求超时时间（毫秒）
REQUEST_TIMEOUT=30000

# ===========================================
# 监控和报警配置
# ===========================================

# 是否启用系统监控
ENABLE_MONITORING=true

# 内存使用率警告阈值（%）
MEMORY_WARNING_THRESHOLD=80

# CPU使用率警告阈值（%）
CPU_WARNING_THRESHOLD=80

# 磁盘使用率警告阈值（%）
DISK_WARNING_THRESHOLD=85

# 错误率警告阈值（%）
ERROR_RATE_WARNING_THRESHOLD=5
